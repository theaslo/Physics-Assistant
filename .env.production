# Physics Assistant Production Environment Configuration
# IMPORTANT: Change all default passwords and secrets before production deployment

# =============================================================================
# APPLICATION ENVIRONMENT
# =============================================================================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=info
LOG_FORMAT=json

# =============================================================================
# DOMAIN AND SSL CONFIGURATION
# =============================================================================
DOMAIN_NAME=physics-assistant.edu
ADMIN_EMAIL=admin@physics-assistant.edu
SSL_ENABLED=true
CERT_EMAIL=ssl@physics-assistant.edu
ACME_CA_SERVER=https://acme-v02.api.letsencrypt.org/directory

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
POSTGRES_PASSWORD=secure_postgres_prod_2024!
PHYSICS_DB_PASSWORD=secure_physics_db_prod_2024!
MONITOR_DB_PASSWORD=secure_monitor_db_prod_2024!
NEO4J_PASSWORD=secure_neo4j_prod_2024!
REDIS_PASSWORD=secure_redis_prod_2024!

# Database Performance
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
JWT_SECRET=CHANGE_ME_SECURE_JWT_SECRET_AT_LEAST_32_CHARS_LONG
ENCRYPTION_KEY=CHANGE_ME_SECURE_ENCRYPTION_KEY_32_CHARS
SESSION_SECRET=CHANGE_ME_SECURE_SESSION_SECRET_64_CHARS_LONG
CSRF_SECRET_KEY=CHANGE_ME_SECURE_CSRF_SECRET_KEY

# CORS Configuration
CORS_ORIGINS=https://physics-assistant.edu,https://dashboard.physics-assistant.edu
CORS_ALLOW_CREDENTIALS=true

# Rate Limiting
API_RATE_LIMIT=100
AUTH_RATE_LIMIT=10
BURST_RATE_LIMIT=20
RATE_LIMIT_STORAGE=redis://redis:6379/1

# =============================================================================
# API SERVICES CONFIGURATION
# =============================================================================
API_HOST=0.0.0.0
DATABASE_API_PORT=8001
DASHBOARD_API_PORT=8002
PHYSICS_API_PORT=8000

# Service Timeouts
REQUEST_TIMEOUT=300
WORKER_TIMEOUT=600
WEBSOCKET_TIMEOUT=3600

# =============================================================================
# MONITORING AND ALERTING
# =============================================================================
GRAFANA_ADMIN_PASSWORD=secure_grafana_admin_2024!
PROMETHEUS_WEB_USER=prometheus
PROMETHEUS_WEB_PASSWORD=CHANGE_ME_SECURE_PROMETHEUS_PASSWORD

# Alert Configuration
ALERT_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
PAGERDUTY_INTEGRATION_KEY=CHANGE_ME_PAGERDUTY_KEY
ALERT_MANAGER_EMAIL=alerts@physics-assistant.edu

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
SMTP_HOST=smtp.physics-assistant.edu
SMTP_PORT=587
SMTP_USER=noreply@physics-assistant.edu
SMTP_PASSWORD=CHANGE_ME_EMAIL_PASSWORD
SMTP_TLS=true
SMTP_FROM_EMAIL=noreply@physics-assistant.edu

# =============================================================================
# BACKUP AND STORAGE
# =============================================================================
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION_PASSWORD=CHANGE_ME_SECURE_BACKUP_PASSWORD

# S3 Configuration for backups
S3_ACCESS_KEY_ID=CHANGE_ME_AWS_ACCESS_KEY
S3_SECRET_ACCESS_KEY=CHANGE_ME_AWS_SECRET_KEY
S3_BUCKET_NAME=physics-assistant-backups-prod
S3_REGION=us-east-1

# =============================================================================
# PERFORMANCE AND SCALING
# =============================================================================
MAX_WORKERS=4
WORKER_MEMORY_LIMIT=2G
MAX_UPLOAD_SIZE=100MB

# Analytics Configuration
ML_MODEL_PATH=/app/models
CELERY_WORKER_CONCURRENCY=4
ANALYTICS_RETENTION_DAYS=365
ANALYTICS_BATCH_SIZE=1000
ML_MODEL_UPDATE_INTERVAL=24h

# =============================================================================
# OAUTH AND EXTERNAL AUTHENTICATION
# =============================================================================
GOOGLE_OAUTH_CLIENT_ID=CHANGE_ME_GOOGLE_CLIENT_ID
GOOGLE_OAUTH_CLIENT_SECRET=CHANGE_ME_GOOGLE_CLIENT_SECRET
OAUTH_REDIRECT_URI=https://physics-assistant.edu/auth/callback

# =============================================================================
# LOAD BALANCING AND HIGH AVAILABILITY
# =============================================================================
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=2048
NGINX_KEEPALIVE_TIMEOUT=65
NGINX_CLIENT_MAX_BODY_SIZE=100M

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================
DEPLOYMENT_STRATEGY=rolling
ROLLING_UPDATE_MAX_UNAVAILABLE=1
ROLLING_UPDATE_MAX_SURGE=1
GRACEFUL_SHUTDOWN_TIMEOUT=30s

# Container Resource Limits
POSTGRES_MEMORY_LIMIT=2G
POSTGRES_CPU_LIMIT=1.0
REDIS_MEMORY_LIMIT=1G
REDIS_CPU_LIMIT=0.5
NEO4J_MEMORY_LIMIT=3G
NEO4J_CPU_LIMIT=1.5